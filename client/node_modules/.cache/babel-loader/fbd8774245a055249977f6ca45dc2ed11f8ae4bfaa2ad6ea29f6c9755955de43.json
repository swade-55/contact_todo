{"ast":null,"code":"// slices/tagsSlice.js\nimport{createSlice,createAsyncThunk}from'@reduxjs/toolkit';export const addTag=createAsyncThunk('tags/addTag',async(tagData,_ref)=>{let{rejectWithValue}=_ref;try{const response=await fetch('/tags',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(tagData)});if(!response.ok){throw new Error('Failed to add tag');}const data=await response.json();return data;}catch(error){return rejectWithValue(error.message);}});export const fetchAllTags=createAsyncThunk('tags/fetchAllTags',async(_,_ref2)=>{let{rejectWithValue}=_ref2;try{const response=await fetch('/tags');if(!response.ok){throw new Error('Failed to fetch tags');}const data=await response.json();return data;}catch(error){return rejectWithValue(error.message);}});export const tagsSlice=createSlice({name:'tags',initialState:{tags:[],status:'idle',error:null},reducers:{},extraReducers:builder=>{builder.addCase(addTag.fulfilled,(state,action)=>{// Add the new tag to the tags array\nstate.tags.push(action.payload);}).addCase(addTag.rejected,(state,action)=>{var _action$payload;state.error=((_action$payload=action.payload)===null||_action$payload===void 0?void 0:_action$payload.message)||'An unknown error occurred';}).addCase(fetchAllTags.fulfilled,(state,action)=>{state.tags=action.payload;});}});export default tagsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","addTag","tagData","_ref","rejectWithValue","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","error","message","fetchAllTags","_","_ref2","tagsSlice","name","initialState","tags","status","reducers","extraReducers","builder","addCase","fulfilled","state","action","push","payload","rejected","_action$payload","reducer"],"sources":["/home/samuelrcwade/Development/Code/Phase4/contact_todo/client/src/components/slices/tagsSlice.js"],"sourcesContent":["// slices/tagsSlice.js\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\nexport const addTag = createAsyncThunk(\n  'tags/addTag',\n  async (tagData, { rejectWithValue }) => {\n    try {\n      const response = await fetch('/tags', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(tagData),\n      });\n      if (!response.ok) {\n        throw new Error('Failed to add tag');\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const fetchAllTags = createAsyncThunk(\n  'tags/fetchAllTags',\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await fetch('/tags');\n      if (!response.ok) {\n        throw new Error('Failed to fetch tags');\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\n\nexport const tagsSlice = createSlice({\n  name: 'tags',\n  initialState: {\n    tags: [],\n    status: 'idle',\n    error: null,\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(addTag.fulfilled, (state, action) => {\n        // Add the new tag to the tags array\n        state.tags.push(action.payload);\n      })\n      .addCase(addTag.rejected, (state, action) => {\n        state.error = action.payload?.message || 'An unknown error occurred';\n      })\n      .addCase(fetchAllTags.fulfilled, (state, action) => {\n        state.tags = action.payload;\n      });\n  },\n});\n\nexport default tagsSlice.reducer;\n"],"mappings":"AAAA;AACA,OAASA,WAAW,CAAEC,gBAAgB,KAAQ,kBAAkB,CAEhE,MAAO,MAAM,CAAAC,MAAM,CAAGD,gBAAgB,CACpC,aAAa,CACb,MAAOE,OAAO,CAAAC,IAAA,GAA0B,IAAxB,CAAEC,eAAgB,CAAC,CAAAD,IAAA,CACjC,GAAI,CACF,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,OAAO,CAAE,CACpCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACT,OAAO,CAC9B,CAAC,CAAC,CACF,GAAI,CAACG,QAAQ,CAACO,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,mBAAmB,CAAC,CACtC,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CAClC,MAAO,CAAAD,IAAI,CACb,CAAE,MAAOE,KAAK,CAAE,CACd,MAAO,CAAAZ,eAAe,CAACY,KAAK,CAACC,OAAO,CAAC,CACvC,CACF,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,YAAY,CAAGlB,gBAAgB,CAC1C,mBAAmB,CACnB,MAAOmB,CAAC,CAAAC,KAAA,GAA0B,IAAxB,CAAEhB,eAAgB,CAAC,CAAAgB,KAAA,CAC3B,GAAI,CACF,KAAM,CAAAf,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,OAAO,CAAC,CACrC,GAAI,CAACD,QAAQ,CAACO,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,sBAAsB,CAAC,CACzC,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CAClC,MAAO,CAAAD,IAAI,CACb,CAAE,MAAOE,KAAK,CAAE,CACd,MAAO,CAAAZ,eAAe,CAACY,KAAK,CAACC,OAAO,CAAC,CACvC,CACF,CACF,CAAC,CAGD,MAAO,MAAM,CAAAI,SAAS,CAAGtB,WAAW,CAAC,CACnCuB,IAAI,CAAE,MAAM,CACZC,YAAY,CAAE,CACZC,IAAI,CAAE,EAAE,CACRC,MAAM,CAAE,MAAM,CACdT,KAAK,CAAE,IACT,CAAC,CACDU,QAAQ,CAAE,CAAC,CAAC,CACZC,aAAa,CAAGC,OAAO,EAAK,CAC1BA,OAAO,CACJC,OAAO,CAAC5B,MAAM,CAAC6B,SAAS,CAAE,CAACC,KAAK,CAAEC,MAAM,GAAK,CAC5C;AACAD,KAAK,CAACP,IAAI,CAACS,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC,CACjC,CAAC,CAAC,CACDL,OAAO,CAAC5B,MAAM,CAACkC,QAAQ,CAAE,CAACJ,KAAK,CAAEC,MAAM,GAAK,KAAAI,eAAA,CAC3CL,KAAK,CAACf,KAAK,CAAG,EAAAoB,eAAA,CAAAJ,MAAM,CAACE,OAAO,UAAAE,eAAA,iBAAdA,eAAA,CAAgBnB,OAAO,GAAI,2BAA2B,CACtE,CAAC,CAAC,CACDY,OAAO,CAACX,YAAY,CAACY,SAAS,CAAE,CAACC,KAAK,CAAEC,MAAM,GAAK,CAClDD,KAAK,CAACP,IAAI,CAAGQ,MAAM,CAACE,OAAO,CAC7B,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CAEF,cAAe,CAAAb,SAAS,CAACgB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}